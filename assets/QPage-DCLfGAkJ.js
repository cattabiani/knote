import{c as p,h as v,a as u,g as b,i as y,e as c,l as z,r as q,w as m,f as O,ax as R,D as S,b as F}from"./index-C7YYOHmc.js";import{h as x,b as V}from"./dom-ub1bNj15.js";import{Q as j}from"./QResizeObserver-D_j1CNUh.js";import{v as A}from"./QBtn-urqICrKG.js";const _=p({name:"QSpace",setup(){const e=v("div",{class:"q-space"});return()=>e}}),E=p({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:t}){const n=u(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>v("div",{class:n.value,role:"toolbar"},x(t.default))}}),K=p({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:n}){const{proxy:{$q:o}}=b(),r=y(z,c);if(r===c)return console.error("QHeader needs to be child of QLayout"),c;const f=q(parseInt(e.heightHint,10)),i=q(!0),l=u(()=>e.reveal===!0||r.view.value.indexOf("H")!==-1||o.platform.is.ios&&r.isContainer.value===!0),g=u(()=>{if(e.modelValue!==!0)return 0;if(l.value===!0)return i.value===!0?f.value:0;const a=f.value-r.scroll.value.position;return a>0?a:0}),C=u(()=>e.modelValue!==!0||l.value===!0&&i.value!==!0),B=u(()=>e.modelValue===!0&&C.value===!0&&e.reveal===!0),P=u(()=>"q-header q-layout__section--marginal "+(l.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(C.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),T=u(()=>{const a=r.rows.value.top,d={};return a[0]==="l"&&r.left.space===!0&&(d[o.lang.rtl===!0?"right":"left"]=`${r.left.size}px`),a[2]==="r"&&r.right.space===!0&&(d[o.lang.rtl===!0?"left":"right"]=`${r.right.size}px`),d});function s(a,d){r.update("header",a,d)}function h(a,d){a.value!==d&&(a.value=d)}function $({height:a}){h(f,a),s("size",a)}function H(a){B.value===!0&&h(i,!0),n("focusin",a)}m(()=>e.modelValue,a=>{s("space",a),h(i,!0),r.animate()}),m(g,a=>{s("offset",a)}),m(()=>e.reveal,a=>{a===!1&&h(i,e.modelValue)}),m(i,a=>{r.animate(),n("reveal",a)}),m(r.scroll,a=>{e.reveal===!0&&h(i,a.direction==="up"||a.position<=e.revealOffset||a.position-a.inflectionPoint<100)});const Q={};return r.instances.header=Q,e.modelValue===!0&&s("size",f.value),s("space",e.modelValue),s("offset",g.value),O(()=>{r.instances.header===Q&&(r.instances.header=void 0,s("size",0),s("offset",0),s("space",!1))}),()=>{const a=V(t.default,[]);return e.elevated===!0&&a.push(v("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),a.push(v(j,{debounce:0,onResize:$})),v("header",{class:P.value,style:T.value,onFocusin:H},a)}}}),M={dark:{type:Boolean,default:null}};function X(e,t){return u(()=>e.dark===null?t.dark.isActive:e.dark)}const w={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},D=Object.keys(w);w.all=!0;function G(e){const t={};for(const n of D)e[n]===!0&&(t[n]=!0);return Object.keys(t).length===0?w:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}const L=["INPUT","TEXTAREA"];function J(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&L.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function W(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),R.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}function Y(){let e=Object.create(null);return{getCache:(t,n)=>e[t]===void 0?e[t]=typeof n=="function"?n():n:e[t],setCache(t,n){e[t]=n},hasCache(t){return Object.hasOwnProperty.call(e,t)},clearCache(t){t!==void 0?delete e[t]:e=Object.create(null)}}}function Z(){let e=null;const t=b();function n(){e!==null&&(clearTimeout(e),e=null)}return S(n),O(n),{removeTimeout:n,registerTimeout(o,r){n(),A(t)===!1&&(e=setTimeout(()=>{e=null,o()},r))}}}const ee=p({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:n}}=b(),o=y(z,c);if(o===c)return console.error("QPage needs to be a deep child of QLayout"),c;if(y(F,c)===c)return console.error("QPage needs to be child of QPageContainer"),c;const f=u(()=>{const l=(o.header.space===!0?o.header.size:0)+(o.footer.space===!0?o.footer.size:0);if(typeof e.styleFn=="function"){const g=o.isContainer.value===!0?o.containerHeight.value:n.screen.height;return e.styleFn(l,g)}return{minHeight:o.isContainer.value===!0?o.containerHeight.value-l+"px":n.screen.height===0?l!==0?`calc(100vh - ${l}px)`:"100vh":n.screen.height-l+"px"}}),i=u(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>v("main",{class:i.value,style:f.value},x(t.default))}});export{E as Q,X as a,Y as b,W as c,Z as d,_ as e,K as f,G as g,ee as h,J as s,M as u};
